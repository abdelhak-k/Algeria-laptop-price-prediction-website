BEGIN;
--
-- Create model PredictionLog
--
CREATE TABLE "predictor_predictionlog" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "predicted_price" numeric(12, 2) NOT NULL, "min_price" numeric(12, 2) NULL, "max_price" numeric(12, 2) NULL, "brand" varchar(50) NOT NULL, "series" varchar(50) NOT NULL, "condition" varchar(50) NOT NULL, "listing_year" integer NOT NULL, "cpu_brand" varchar(50) NOT NULL, "cpu_family" varchar(50) NOT NULL, "cpu_generation" varchar(10) NOT NULL, "cpu_suffix" varchar(20) NOT NULL, "is_pro" boolean NOT NULL, "gpu_tier" varchar(50) NOT NULL, "gpu_suffix" varchar(20) NOT NULL, "ram_size_gb" integer NOT NULL, "ram_type_class" varchar(20) NOT NULL, "ssd_size_gb" integer NOT NULL, "hdd_size_gb" integer NOT NULL, "screen_size" numeric(4, 2) NOT NULL, "resolution_class" varchar(20) NOT NULL, "created_at" timestamp with time zone NOT NULL);
--
-- Create model PredictionFeedback
--
CREATE TABLE "predictor_predictionfeedback" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "is_accurate" varchar(20) NULL, "actual_price" numeric(12, 2) NULL, "feedback_text" text NULL, "created_at" timestamp with time zone NOT NULL, "prediction_id" bigint NULL UNIQUE);
ALTER TABLE "predictor_predictionfeedback" ADD CONSTRAINT "predictor_prediction_prediction_id_d7f386d3_fk_predictor" FOREIGN KEY ("prediction_id") REFERENCES "predictor_predictionlog" ("id") DEFERRABLE INITIALLY DEFERRED;
COMMIT;
